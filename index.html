<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Tapple</title>
    <link rel="stylesheet" href="main.css">
</head>
<body style="height: 20000px;">
    <div class="box" id="title">
        <h>Tapple</h>
        <p class="info" style="--left:100px;">Developed by 谭景元</p>
    </div>
    <div class="box text center">
        <h1 class="jianbian" style="--colorlt:#2983cc;--colorrt:#e34e7f;font-size: 90px;margin: calc(var(--ph) / 2) 0;">普通渐变</h1>
    </div>
    <div class="box text center">
        <h1 class="jianbian scroll" style="--colorlt:#2983cc;--colorrt:#e34e7f;font-size: 90px;margin: calc(var(--ph) / 2) 0;">渐变滚动</h1>
    </div>
    <div class="box text center">
        <h1 class="lock jianbian scroll" style="--colorlt:#2983cc;--colorrt:#e34e7f;font-size: 90px;margin: calc(var(--ph) / 2) 0;">固定渐变滚</h1>
    </div>
    <div class="box text center">
        <h1 class="jianbian highlight" style="--colorlt:#2983cc;--colorrt:#e34e7f;font-size: 90px;margin: calc(var(--ph) / 2) 0;">渐变强调</h1>
    </div>
    <div class="box text center">
        <h1 class="shine" style="--color:#2983cc;--colorshine:#76cfff;font-size: 90px;margin: calc(var(--ph) / 2) 0;--speed:5;">发光强调</h1>
    </div>
    <div class="box text center">
        <h1 class="fx h shine" style="--color:#2983cc;--colorshine:#76cfff;--speed:5;font-size: 90px;margin: calc(var(--ph) / 2) 0;">左到右横滚+发光</h1>
    </div>
    <div class="box text center">
        <h1 class="fx h func" style="--speed:-5;font-size: 90px;margin: calc(var(--ph) / 2) 0;">右到左横滚func</h1>
    </div>
    <div class="box text center">
        <h1 class="fx h stop-center" style="--speed:5;font-size: 90px;margin: calc(var(--ph) / 2) 0;">左到右横滚停中</h1>
    </div>
    <div class="box text center">
        <h1 class="prog" style="--colorlt:#2ee62e;--colorrt:#000;font-size: 90px;margin: calc(var(--ph) / 2) 0;">进度条形</h1>
    </div>
    <div class="box text center">
        <h1 class="lock prog func" style="--colorlt:#2ee62e;--colorrt:#000;font-size: 90px;margin: calc(var(--ph) / 2) 0;">固定+进度条func</h1>
    </div>
    <div class="box text center">
        <h1 class="trans b-s shine" style="--color:#2983cc;--colorshine:#76cfff;font-size: 90px;margin: calc(var(--ph) / 2) 0;--speed:2;">缩小</h1>
    </div>
    <div class="box text center">
        <h1 class="trans s-b shine stop-center" style="--color:#2983cc;--colorshine:#76cfff;font-size: 90px;margin: calc(var(--ph) / 2) 0;--speed:2;">放大+停中</h1>
    </div>
    <div class="box text center">
        <h1 class="trans float up highlight" style="font-size: 60px;margin: calc(var(--ph) / 2) 0;">上浮</h1>
    </div>
    <div class="box text center">
        <h1 class="trans float rt highlight" style="font-size: 60px;margin: calc(var(--ph) / 2) 0;">右浮</h1>
    </div>
    <div class="card-group center" style="--card-width:300px;">
        <div class="box card trans float rt highlight">
            <p class="tit">右浮</p>
            <p class="body">
                Lorem ipsum dolor sit amet justo iriure clita. Facer sit dolore eum dolore. Consetetur in et consectetuer nulla consetetur. Labore ipsum eu feugiat sed sit takimata. Invidunt et dolore at magna dolore dolor. Et voluptua nonumy et sit sed dolor accusam et lorem et dolore kasd sed dolore tincidunt. Facilisis consetetur sit sit vero autem in minim erat. Illum amet accusam amet elitr elitr sanctus dolore vero elitr kasd diam vero dolor. Stet vero sed id duo amet. Nonumy et eos est sit tation gubergren amet. Assum eos sed assum accusam voluptua aliquam amet sanctus amet. Tempor clita nam duis. Eirmod sadipscing kasd volutpat enim duo. Sadipscing no eum luptatum voluptua eirmod at. Eos quod voluptua in lorem et.
            </p>
        </div>
        <div class="box card">
            <p class="tit center">标题居中</p>
            <p class="body">
                Lorem ipsum dolor sit amet justo iriure clita. Facer sit dolore eum dolore. Consetetur in et consectetuer nulla consetetur. Labore ipsum eu feugiat sed sit takimata. Invidunt et dolore at magna dolore dolor. Et voluptua nonumy et sit sed dolor accusam et lorem et dolore kasd sed dolore tincidunt. Facilisis consetetur sit sit vero autem in minim erat. Illum amet accusam amet elitr elitr sanctus dolore vero elitr kasd diam vero dolor. Stet vero sed id duo amet. Nonumy et eos est sit tation gubergren amet. Assum eos sed assum accusam voluptua aliquam amet sanctus amet. Tempor clita nam duis. Eirmod sadipscing kasd volutpat enim duo. Sadipscing no eum luptatum voluptua eirmod at. Eos quod voluptua in lorem et.
            </p>
        </div>
        <div class="box card trans float up highlight">
            <p class="tit">上浮</p>
            <p class="body">
                Lorem ipsum dolor sit amet justo iriure clita. Facer sit dolore eum dolore. Consetetur in et consectetuer nulla consetetur. Labore ipsum eu feugiat sed sit takimata. Invidunt et dolore at magna dolore dolor. Et voluptua nonumy et sit sed dolor accusam et lorem et dolore kasd sed dolore tincidunt. Facilisis consetetur sit sit vero autem in minim erat. Illum amet accusam amet elitr elitr sanctus dolore vero elitr kasd diam vero dolor. Stet vero sed id duo amet. Nonumy et eos est sit tation gubergren amet. Assum eos sed assum accusam voluptua aliquam amet sanctus amet. Tempor clita nam duis. Eirmod sadipscing kasd volutpat enim duo. Sadipscing no eum luptatum voluptua eirmod at. Eos quod voluptua in lorem et.
            </p>
        </div>
        <div class="box card fx h stop-center" style="--speed:-5;">
            <p class="tit">右至左停中</p>
            <p class="body">
                Lorem ipsum dolor sit amet justo iriure clita. Facer sit dolore eum dolore. Consetetur in et consectetuer nulla consetetur. Labore ipsum eu feugiat sed sit takimata. Invidunt et dolore at magna dolore dolor. Et voluptua nonumy et sit sed dolor accusam et lorem et dolore kasd sed dolore tincidunt. Facilisis consetetur sit sit vero autem in minim erat. Illum amet accusam amet elitr elitr sanctus dolore vero elitr kasd diam vero dolor. Stet vero sed id duo amet. Nonumy et eos est sit tation gubergren amet. Assum eos sed assum accusam voluptua aliquam amet sanctus amet. Tempor clita nam duis. Eirmod sadipscing kasd volutpat enim duo. Sadipscing no eum luptatum voluptua eirmod at. Eos quod voluptua in lorem et.
            </p>
        </div>
        <div class="box card trans float up highlight">
            <p class="tit">上浮</p>
            <p class="body">
                Lorem ipsum dolor sit amet justo iriure clita. Facer sit dolore eum dolore. Consetetur in et consectetuer nulla consetetur. Labore ipsum eu feugiat sed sit takimata. Invidunt et dolore at magna dolore dolor. Et voluptua nonumy et sit sed dolor accusam et lorem et dolore kasd sed dolore tincidunt. Facilisis consetetur sit sit vero autem in minim erat. Illum amet accusam amet elitr elitr sanctus dolore vero elitr kasd diam vero dolor. Stet vero sed id duo amet. Nonumy et eos est sit tation gubergren amet. Assum eos sed assum accusam voluptua aliquam amet sanctus amet. Tempor clita nam duis. Eirmod sadipscing kasd volutpat enim duo. Sadipscing no eum luptatum voluptua eirmod at. Eos quod voluptua in lorem et.
            </p>
        </div>
        <div class="box card">
            <p class="tit">卡片</p>
            <p class="body">
                Lorem ipsum dolor sit amet justo iriure clita. Facer sit dolore eum dolore. Consetetur in et consectetuer nulla consetetur. Labore ipsum eu feugiat sed sit takimata. Invidunt et dolore at magna dolore dolor. Et voluptua nonumy et sit sed dolor accusam et lorem et dolore kasd sed dolore tincidunt. Facilisis consetetur sit sit vero autem in minim erat. Illum amet accusam amet elitr elitr sanctus dolore vero elitr kasd diam vero dolor. Stet vero sed id duo amet. Nonumy et eos est sit tation gubergren amet. Assum eos sed assum accusam voluptua aliquam amet sanctus amet. Tempor clita nam duis. Eirmod sadipscing kasd volutpat enim duo. Sadipscing no eum luptatum voluptua eirmod at. Eos quod voluptua in lorem et.
            </p>
        </div>
    </div>
    <script src="jq.min.js"></script>
    <!-- <script src="scroll.js"></script> -->
    <script>
        let ph=window.innerHeight;
        $(':root').css('--ph',`${ph}px`);
        let g_percent=$('.scroll:not(.fun),.fx:not(.fun),.prog:not(.fun),.shine:not(.fun),.trans.s-b:not(.fun),.trans.b-s:not(.fun)');
        let g_pfunc=$('.func');
        let g_center=$('.lock,.fx.h,.trans.s-b,.trans.b-s');
        let g_highlight=$('.highlight');
        let g_show=$('.lock,.trans.s-b,.trans.b-s');
        let g_stopcenter=$('.stop-center');
        if($('html').scrollTop()==0){
            $('#title').addClass('start');
        }
        $('body')[0].onscroll=function() {
            let t=$('html').scrollTop();
            if(t==0){
                $('#title').addClass('start');
            }else{
                $('#title').removeClass('start');
            }
            for (let i = 0; i < g_percent.length; i++) {
                const box = g_percent[i];
                $(box).css('--scroll',`${(ph+t-box.offsetTop)/(ph+box.offsetHeight)*100}%`);
            }
            for (let i = 0; i < g_pfunc.length; i++) {
                const box = g_pfunc[i];
                $(box).css('--scroll',`${(4*(((ph+t-box.offsetTop)/(ph+box.offsetHeight)-0.5)**3)+0.5)*100}%`);
            }
            for (let i = 0; i < g_center.length; i++) {
                const box = g_center[i];
                $(box).css('--translate',`${ph+t-box.offsetTop-((ph+box.offsetHeight)/2)}px`);
            }
            for (let i = 0; i < g_highlight.length; i++) {
                const box = g_highlight[i];
                if(box.offsetTop-t<0.6*ph){
                    $(box).addClass('show');
                }else{
                    $(box).removeClass('show');
                }
            }
            for (let i = 0; i < g_show.length; i++) {
                const box = g_show[i];
                if(t<box.offsetTop+box.offsetHeight&&box.offsetTop-ph<t){
                    $(box).addClass('show');
                }else{
                    $(box).removeClass('show');
                }
            }
            for (let i = 0; i < g_stopcenter.length; i++) {
                const box = g_stopcenter[i];
                if(ph+t-box.offsetTop>=(ph+box.offsetHeight)/2){
                    $(box).addClass('stop');
                }else{
                    $(box).removeClass('stop');
                }
            }
        }
        $('html')[0].scroll(0,0);
    </script>
</body>
</html>